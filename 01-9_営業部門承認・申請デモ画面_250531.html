<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>営業部門承認・申請システム（ブラッシュアップ版）</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <style>
    /* 設計仕様書v24準拠の高度なスタイル */
    .glass-effect {
      backdrop-filter: blur(10px);
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .copilot-enhanced {
      background: linear-gradient(135deg, #fff3cd, #ffeaa7);
      border: 2px solid #ffc107;
      animation: copilotGlow 3s infinite ease-in-out;
      position: relative;
    }
    
    @keyframes copilotGlow {
      0%, 100% { box-shadow: 0 0 20px rgba(255, 193, 7, 0.3); }
      50% { box-shadow: 0 0 30px rgba(255, 193, 7, 0.6); }
    }
    
    .copilot-enhanced::before {
      content: "🤖 AI";
      position: absolute;
      top: -8px;
      right: -8px;
      background: #ff6b35;
      color: white;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 8px;
      font-weight: bold;
    }
    
    /* 差分ハイライト */
    .diff-highlight {
      background: linear-gradient(90deg, #fef3c7, #fbbf24);
      border-left: 4px solid #f59e0b;
      position: relative;
      animation: diffPulse 2s infinite;
    }
    
    @keyframes diffPulse {
      0%, 100% { background: linear-gradient(90deg, #fef3c7, #fbbf24); }
      50% { background: linear-gradient(90deg, #fde68a, #f59e0b); }
    }
    
    .diff-highlight::after {
      content: "変更";
      position: absolute;
      top: 8px;
      right: 8px;
      background: #f59e0b;
      color: white;
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 12px;
      font-weight: bold;
      animation: bounce 1s infinite;
    }
    
    /* 承認フローのステップ */
    .approval-step {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .approval-step:hover {
      transform: translateX(8px) scale(1.02);
    }
    
    .approval-step.completed {
      background: linear-gradient(135deg, #d1fae5, #a7f3d0);
      border-left: 6px solid #10b981;
    }
    
    .approval-step.current {
      background: linear-gradient(135deg, #fef3c7, #fde68a);
      border-left: 6px solid #f59e0b;
      animation: currentStepPulse 2s infinite;
    }
    
    @keyframes currentStepPulse {
      0%, 100% { box-shadow: 0 4px 15px rgba(245, 158, 11, 0.3); }
      50% { box-shadow: 0 8px 25px rgba(245, 158, 11, 0.5); }
    }
    
    .approval-step.pending {
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
      border-left: 6px solid #6b7280;
      opacity: 0.7;
    }
    
    /* リスクレベル表示 */
    .risk-critical {
      background: linear-gradient(135deg, #fee2e2, #fecaca);
      border-left: 6px solid #ef4444;
      animation: criticalAlert 1s infinite;
    }
    
    @keyframes criticalAlert {
      0%, 100% { border-left-color: #ef4444; }
      50% { border-left-color: #dc2626; }
    }
    
    .risk-warning {
      background: linear-gradient(135deg, #fef3c7, #fde68a);
      border-left: 6px solid #f59e0b;
    }
    
    .risk-info {
      background: linear-gradient(135deg, #dbeafe, #bfdbfe);
      border-left: 6px solid #3b82f6;
    }
    
    /* 金額表示の強調 */
    .amount-display {
      background: linear-gradient(135deg, #1e40af, #3b82f6);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      font-weight: 900;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    
    /* プロジェクト番号のバッジ */
    .project-badge {
      background: linear-gradient(135deg, #7c3aed, #a855f7);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-weight: bold;
      font-size: 12px;
      letter-spacing: 0.5px;
    }
    
    /* 技術資格バッジ */
    .tech-badge {
      background: linear-gradient(135deg, #059669, #10b981);
      color: white;
      font-size: 10px;
      padding: 3px 8px;
      border-radius: 12px;
      font-weight: bold;
      display: inline-block;
      margin: 0 2px;
    }
    
    /* インタラクティブカード */
    .interactive-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    
    .interactive-card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
    }
    
    /* 進捗インジケーター */
    .progress-ring {
      transform: rotate(-90deg);
    }
    
    .progress-ring circle {
      stroke-linecap: round;
      transition: stroke-dasharray 0.8s ease-in-out;
    }
    
    /* タイムライン */
    .timeline-item::before {
      content: '';
      position: absolute;
      left: 20px;
      top: 50px;
      width: 2px;
      height: calc(100% - 50px);
      background: linear-gradient(to bottom, #e5e7eb, transparent);
    }
    
    .timeline-item:last-child::before {
      display: none;
    }
    
    /* フェードインアニメーション */
    .fade-in {
      animation: fadeInUp 0.6s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* レスポンシブ対応 */
    @media (max-width: 768px) {
      .mobile-stack {
        flex-direction: column;
        space-y: 1rem;
      }
      
      .mobile-full {
        width: 100%;
      }
      
      .mobile-hide {
        display: none;
      }
      
      .text-responsive {
        font-size: 0.875rem;
      }
    }
    
    /* ダークモード対応準備 */
    @media (prefers-color-scheme: dark) {
      .glass-effect {
        background: rgba(31, 41, 55, 0.9);
      }
    }
    
    /* アクセシビリティ強化 */
    .focus-visible:focus {
      outline: 2px solid #3b82f6;
      outline-offset: 2px;
    }
    
    /* 案件種別バッジ */
    .badge-ES { background: linear-gradient(135deg, #dc2626, #ef4444); }
    .badge-ER { background: linear-gradient(135deg, #2563eb, #3b82f6); }
    .badge-PP { background: linear-gradient(135deg, #7c3aed, #a855f7); }
    .badge-RN { background: linear-gradient(135deg, #059669, #10b981); }
    .badge-EP { background: linear-gradient(135deg, #4338ca, #6366f1); }
    .badge-ST { background: linear-gradient(135deg, #6b7280, #9ca3af); }
    .badge-DX { background: linear-gradient(135deg, #db2777, #ec4899); }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen">
  <!-- ヘッダー（統合システム準拠） -->
  <header class="glass-effect shadow-xl sticky top-0 z-40">
    <div class="container mx-auto px-4 py-4">
      <div class="flex justify-between items-center">
        <div class="flex items-center space-x-6">
          <div class="flex items-center">
            <div class="w-12 h-12 bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl flex items-center justify-center mr-4">
              <i class="fas fa-clipboard-check text-white text-xl"></i>
            </div>
            <div>
              <h1 class="text-xl font-bold text-gray-800">営業承認・申請システム</h1>
              <p class="text-sm text-gray-600">Sales Approval & Application Management v24</p>
            </div>
          </div>
          
          <div class="flex items-center space-x-3">
            <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium">営業部門</span>
            <div class="text-center">
              <div class="text-xs text-gray-600">承認効率</div>
              <div class="text-sm font-bold text-blue-600">96%</div>
            </div>
          </div>
        </div>
        
        <div class="flex items-center space-x-4">
          <!-- 緊急通知 -->
          <div class="relative">
            <button class="p-3 hover:bg-white hover:bg-opacity-20 rounded-full transition-all duration-300">
              <i class="fas fa-bell text-gray-700 text-lg"></i>
              <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center animate-pulse font-bold">7</span>
            </button>
          </div>
          
          <!-- ユーザー情報 -->
          <div class="flex items-center space-x-3">
            <div class="text-right">
              <div class="font-semibold text-gray-800">山田 健太郎</div>
              <div class="text-sm text-gray-600">営業部長</div>
              <div class="flex space-x-1 mt-1">
                <span class="tech-badge">エネルギー管理士</span>
                <span class="tech-badge">電気施工管理1級</span>
              </div>
            </div>
            <div class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 text-white rounded-full flex items-center justify-center font-bold text-lg">
              YK
            </div>
          </div>
          
          <!-- 設定メニュー -->
          <button class="p-2 hover:bg-white hover:bg-opacity-20 rounded-full text-gray-700">
            <i class="fas fa-cog text-lg"></i>
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="container mx-auto px-4 py-6">
    <!-- パンくずナビゲーション -->
    <div class="flex items-center text-sm text-gray-600 mb-6 fade-in">
      <a href="#" class="hover:text-blue-600 transition-colors flex items-center">
        <i class="fas fa-home mr-1"></i> ホーム
      </a>
      <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
      <a href="#" class="hover:text-blue-600 transition-colors">営業HUB</a>
      <i class="fas fa-chevron-right mx-2 text-gray-400"></i>
      <span class="text-gray-800 font-medium">承認・申請管理</span>
    </div>

    <!-- 緊急アクション・統合ダッシュボード -->
    <div class="grid grid-cols-1 xl:grid-cols-3 gap-8 mb-8">
      <!-- 緊急承認待ち（拡張版） -->
      <div class="xl:col-span-2">
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in interactive-card">
          <div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-6">
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                  <i class="fas fa-exclamation-triangle text-2xl"></i>
                </div>
                <div>
                  <h2 class="text-2xl font-bold">緊急承認・要対応案件</h2>
                  <p class="text-red-100">優先度・期限順</p>
                </div>
              </div>
              <div class="text-right">
                <div class="text-3xl font-bold">7</div>
                <div class="text-red-100 text-sm">緊急案件</div>
              </div>
            </div>
          </div>
          
          <div class="p-6 space-y-4">
            <!-- 最高優先度：期限切迫案件 -->
            <div class="risk-critical rounded-2xl p-5">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <div class="flex items-center mb-3">
                    <span class="project-badge mr-3">FKO25ES001</span>
                    <span class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse">
                      🔥 期限切迫
                    </span>
                    <span class="bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full text-xs font-bold ml-2">
                      ⭐ ターゲット案件
                    </span>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 mb-2">ABC工場省エネ設備導入 最終見積承認</h3>
                  <div class="grid grid-cols-2 gap-4 mb-3">
                    <div>
                      <span class="text-sm text-gray-600">金額:</span>
                      <span class="amount-display text-xl ml-2">8,500万円</span>
                    </div>
                    <div>
                      <span class="text-sm text-gray-600">粗利率:</span>
                      <span class="text-lg font-bold text-green-600 ml-2">28.5%</span>
                    </div>
                  </div>
                  <div class="copilot-enhanced p-3 rounded-lg mb-3">
                    <div class="text-sm text-amber-800">
                      <strong>🤖 Copilot緊急分析:</strong> 競合2社との最終競争。承認遅延1日毎に受注確率-5%低下予測。
                      技術的優位性（エネルギー管理士活用）が決定要因。<strong>即座の承認を強く推奨</strong>
                    </div>
                  </div>
                  <div class="flex items-center text-sm text-gray-600 mb-3">
                    <i class="fas fa-clock text-red-500 mr-2"></i>
                    <span class="font-semibold text-red-600">期限: 2025/05/20 17:00（残り4時間12分）</span>
                    <span class="mx-3">•</span>
                    <span>申請者: 佐藤一郎</span>
                    <span class="tech-badge ml-2">エネルギー管理士</span>
                  </div>
                  <div class="bg-white p-3 rounded-lg border-l-4 border-blue-500">
                    <div class="text-sm">
                      <div class="flex justify-between mb-1">
                        <span>前回見積からの主な変更:</span>
                        <button class="text-blue-600 hover:text-blue-800 text-xs font-medium">詳細差分</button>
                      </div>
                      <div class="text-gray-700">
                        • IoT機能強化 (+500万円) | • データ分析プラットフォーム追加 (+300万円) | • 効率化によるコスト削減 (-100万円)
                      </div>
                    </div>
                  </div>
                </div>
                <div class="flex flex-col space-y-3 ml-6">
                  <button class="bg-red-500 hover:bg-red-600 text-white px-6 py-3 rounded-xl font-bold transition-all transform hover:scale-105 shadow-lg">
                    <i class="fas fa-bolt mr-2"></i>
                    緊急承認
                  </button>
                  <button class="bg-white border-2 border-red-300 text-red-600 hover:bg-red-50 px-6 py-3 rounded-xl font-medium transition-all">
                    詳細確認
                  </button>
                  <button class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-2 rounded-lg text-sm">
                    🤖 Copilot相談
                  </button>
                </div>
              </div>
            </div>

            <!-- 高優先度：承認遅延案件 -->
            <div class="risk-warning rounded-2xl p-5">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <div class="flex items-center mb-3">
                    <span class="project-badge mr-3">SAG25PP002</span>
                    <span class="bg-amber-500 text-white px-3 py-1 rounded-full text-xs font-bold">
                      ⚠️ 承認遅延
                    </span>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 mb-2">GHI工業太陽光PPA契約 料金改定承認</h3>
                  <div class="grid grid-cols-2 gap-4 mb-3">
                    <div>
                      <span class="text-sm text-gray-600">月額料金:</span>
                      <span class="text-lg font-bold text-blue-600 ml-2">180万円</span>
                    </div>
                    <div>
                      <span class="text-sm text-gray-600">契約期間:</span>
                      <span class="text-lg font-bold text-purple-600 ml-2">15年</span>
                    </div>
                  </div>
                  <div class="flex items-center text-sm text-gray-600 mb-3">
                    <i class="fas fa-calendar-times text-amber-500 mr-2"></i>
                    <span>承認予定日から2日超過</span>
                    <span class="mx-3">•</span>
                    <span>申請者: 鈴木智子</span>
                  </div>
                  <div class="bg-white p-3 rounded-lg border-l-4 border-amber-500">
                    <div class="text-sm text-gray-700">
                      <strong>影響:</strong> 顧客への回答遅延により信頼性に影響。競合他社の介入リスク増加。
                    </div>
                  </div>
                </div>
                <div class="flex flex-col space-y-3 ml-6">
                  <button class="bg-amber-500 hover:bg-amber-600 text-white px-6 py-3 rounded-xl font-bold transition-all">
                    今すぐ承認
                  </button>
                  <button class="bg-white border-2 border-amber-300 text-amber-600 hover:bg-amber-50 px-6 py-3 rounded-xl font-medium">
                    条件付承認
                  </button>
                </div>
              </div>
            </div>

            <!-- 中優先度：部下の申請支援要 -->
            <div class="risk-info rounded-2xl p-5">
              <div class="flex items-start justify-between">
                <div class="flex-1">
                  <div class="flex items-center mb-3">
                    <span class="project-badge mr-3">KMM25ES003</span>
                    <span class="bg-blue-500 text-white px-3 py-1 rounded-full text-xs font-bold">
                      📋 要支援
                    </span>
                  </div>
                  <h3 class="text-lg font-bold text-gray-800 mb-2">JKL商事製造ライン自動化 見積支援要請</h3>
                  <div class="grid grid-cols-2 gap-4 mb-3">
                    <div>
                      <span class="text-sm text-gray-600">予想金額:</span>
                      <span class="text-lg font-bold text-green-600 ml-2">1億2,000万円</span>
                    </div>
                    <div>
                      <span class="text-sm text-gray-600">申請者:</span>
                      <span class="text-lg font-bold text-gray-600 ml-2">山本太郎（新人）</span>
                    </div>
                  </div>
                  <div class="bg-white p-3 rounded-lg border-l-4 border-blue-500">
                    <div class="text-sm text-gray-700">
                      <strong>状況:</strong> 新人営業による初回大型案件。技術的複雑性が高く、上長指導が必要。
                      計装士1級の専門知識活用を要求される案件。
                    </div>
                  </div>
                </div>
                <div class="flex flex-col space-y-3 ml-6">
                  <button class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-xl font-bold transition-all">
                    指導・支援
                  </button>
                  <button class="bg-white border-2 border-blue-300 text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-xl font-medium">
                    技術連携
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 承認統計・KPI -->
      <div class="space-y-6">
        <!-- 今日の承認状況 -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in">
          <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6">
            <div class="flex items-center">
              <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                <i class="fas fa-chart-pie text-2xl"></i>
              </div>
              <div>
                <h3 class="text-xl font-bold">今日の承認状況</h3>
                <p class="text-green-100">リアルタイム統計</p>
              </div>
            </div>
          </div>
          
          <div class="p-6 space-y-4">
            <!-- 円形プログレス -->
            <div class="flex justify-center mb-6">
              <div class="relative w-24 h-24">
                <svg class="progress-ring w-24 h-24">
                  <circle cx="48" cy="48" r="40" stroke="#e5e7eb" stroke-width="6" fill="none"/>
                  <circle cx="48" cy="48" r="40" stroke="#10b981" stroke-width="6" fill="none" 
                          stroke-dasharray="251.2" stroke-dashoffset="50.24"/>
                </svg>
                <div class="absolute inset-0 flex items-center justify-center">
                  <div class="text-center">
                    <div class="text-2xl font-bold text-green-600">80%</div>
                    <div class="text-xs text-gray-600">完了率</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 詳細統計 -->
            <div class="space-y-3">
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">処理済み</span>
                <div class="flex items-center">
                  <span class="font-bold text-green-600 mr-2">12件</span>
                  <div class="w-16 bg-gray-200 rounded-full h-2">
                    <div class="bg-green-500 h-2 rounded-full" style="width: 80%"></div>
                  </div>
                </div>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">処理中</span>
                <div class="flex items-center">
                  <span class="font-bold text-amber-600 mr-2">3件</span>
                  <div class="w-16 bg-gray-200 rounded-full h-2">
                    <div class="bg-amber-500 h-2 rounded-full" style="width: 20%"></div>
                  </div>
                </div>
              </div>
              <div class="flex justify-between items-center">
                <span class="text-sm text-gray-600">保留中</span>
                <div class="flex items-center">
                  <span class="font-bold text-red-600 mr-2">0件</span>
                  <div class="w-16 bg-gray-200 rounded-full h-2">
                    <div class="bg-red-500 h-2 rounded-full" style="width: 0%"></div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- 目標達成状況 -->
            <div class="bg-green-50 p-4 rounded-xl border border-green-200">
              <div class="text-sm font-medium text-green-800 mb-1">今日の目標達成状況</div>
              <div class="text-2xl font-bold text-green-600">96%</div>
              <div class="text-xs text-green-600">目標：15件中15件完了予定</div>
            </div>
          </div>
        </div>

        <!-- 部門パフォーマンス -->
        <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in">
          <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6">
            <div class="flex items-center">
              <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
                <i class="fas fa-users text-2xl"></i>
              </div>
              <div>
                <h3 class="text-xl font-bold">部門パフォーマンス</h3>
                <p class="text-purple-100">今月の実績</p>
              </div>
            </div>
          </div>
          
          <div class="p-6 space-y-4">
            <div class="grid grid-cols-2 gap-4">
              <div class="text-center p-4 bg-blue-50 rounded-xl">
                <div class="text-sm text-gray-600 mb-1">平均承認時間</div>
                <div class="text-xl font-bold text-blue-600">0.8日</div>
                <div class="text-xs text-green-600">目標比-40%</div>
              </div>
              <div class="text-center p-4 bg-purple-50 rounded-xl">
                <div class="text-sm text-gray-600 mb-1">承認精度</div>
                <div class="text-xl font-bold text-purple-600">98.5%</div>
                <div class="text-xs text-green-600">目標比+3.5%</div>
              </div>
            </div>
            
            <!-- 部下別パフォーマンス -->
            <div class="space-y-2">
              <div class="text-sm font-semibold text-gray-800 mb-3">部下別承認状況</div>
              <div class="space-y-2">
                <div class="flex items-center justify-between">
                  <div class="flex items-center">
                    <span class="text-sm text-gray-800">佐藤一郎</span>
                                            <span class="tech-badge ml-2">エネルギー管理士</span>
                  </div>
                  <div class="flex items-center">
                    <span class="text-sm font-semibold text-green-600">承認済</span>
                    <i class="fas fa-check text-green-500 ml-2"></i>
                  </div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center">
                    <span class="text-sm text-gray-800">鈴木智子</span>
                    <span class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs ml-2">大型案件</span>
                  </div>
                  <div class="flex items-center">
                    <span class="text-sm font-semibold text-amber-600">承認待ち</span>
                    <i class="fas fa-clock text-amber-500 ml-2"></i>
                  </div>
                </div>
                <div class="flex items-center justify-between">
                  <div class="flex items-center">
                    <span class="text-sm text-gray-800">山本太郎</span>
                    <span class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs ml-2">要支援</span>
                  </div>
                  <div class="flex items-center">
                    <span class="text-sm font-semibold text-blue-600">指導中</span>
                    <i class="fas fa-user-graduate text-blue-500 ml-2"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 詳細承認フロー管理 -->
    <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-8 fade-in">
      <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 text-white p-6">
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
              <i class="fas fa-route text-2xl"></i>
            </div>
            <div>
              <h2 class="text-2xl font-bold">承認フロー詳細管理</h2>
              <p class="text-indigo-100">案件別承認進捗とボトルネック分析</p>
            </div>
          </div>
          <div class="flex space-x-3">
            <button class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-xl transition-all">
              <i class="fas fa-filter mr-2"></i>フィルター
            </button>
            <button class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-xl transition-all">
              <i class="fas fa-download mr-2"></i>Excel出力
            </button>
          </div>
        </div>
      </div>
      
      <div class="p-6">
        <!-- タブナビゲーション -->
        <div class="border-b border-gray-200 mb-6">
          <nav class="flex space-x-8">
            <button class="border-b-2 border-indigo-500 text-indigo-600 py-2 px-1 text-sm font-medium">
              承認待ち案件
            </button>
            <button class="text-gray-500 hover:text-gray-700 py-2 px-1 text-sm font-medium">
              完了案件
            </button>
            <button class="text-gray-500 hover:text-gray-700 py-2 px-1 text-sm font-medium">
              保留・差戻し案件
            </button>
            <button class="text-gray-500 hover:text-gray-700 py-2 px-1 text-sm font-medium">
              分析・レポート
            </button>
          </nav>
        </div>

        <!-- 承認案件テーブル -->
        <div class="overflow-x-auto">
          <table class="min-w-full">
            <thead>
              <tr class="bg-gradient-to-r from-gray-50 to-gray-100">
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">案件情報</th>
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">申請者・金額</th>
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">承認状況</th>
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">期限・リスク</th>
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">AI分析</th>
                <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">アクション</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
              <!-- 案件1: 緊急案件 -->
              <tr class="hover:bg-red-50 transition-colors">
                <td class="px-6 py-4">
                  <div class="flex items-center">
                    <span class="project-badge mr-3">FKO25ES001</span>
                    <div>
                      <div class="font-semibold text-gray-800">ABC工場省エネ設備導入</div>
                      <div class="text-sm text-gray-600">エネルギーサービス</div>
                      <div class="flex space-x-1 mt-1">
                        <span class="badge-ES text-white px-2 py-1 rounded text-xs">ES</span>
                        <span class="bg-yellow-400 text-yellow-900 px-2 py-1 rounded text-xs">ターゲット</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div>
                    <div class="font-semibold text-gray-800">佐藤一郎</div>
                    <div class="tech-badge">計装士1級</div>
                    <div class="amount-display text-lg mt-1">8,500万円</div>
                    <div class="text-sm text-green-600">粗利率: 28.5%</div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="approval-step completed rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-check text-green-500 mr-2"></i>
                        <span class="text-sm">申請者提出</span>
                      </div>
                    </div>
                    <div class="approval-step current rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-clock text-amber-500 mr-2 animate-pulse"></i>
                        <span class="text-sm font-medium">部長承認待ち</span>
                      </div>
                    </div>
                    <div class="approval-step pending rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-hourglass text-gray-400 mr-2"></i>
                        <span class="text-sm text-gray-500">常務承認</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="flex items-center text-sm">
                      <i class="fas fa-exclamation-triangle text-red-500 mr-2"></i>
                      <span class="text-red-600 font-semibold">残り4時間12分</span>
                    </div>
                    <div class="text-xs text-gray-600">期限: 2025/05/20 17:00</div>
                    <div class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">
                      🔥 緊急対応要
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="copilot-enhanced p-3 rounded-lg">
                    <div class="text-xs text-amber-800">
                      <div class="font-semibold mb-1">🤖 AI推奨</div>
                      <div>• 即座承認推奨</div>
                      <div>• 競合優位性: 高</div>
                      <div>• 技術的妥当性: ◎</div>
                      <div class="text-green-700 font-semibold mt-1">信頼度: 94%</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="flex flex-col space-y-2">
                    <button class="bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all">
                      緊急承認
                    </button>
                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm">
                      詳細表示
                    </button>
                  </div>
                </td>
              </tr>

              <!-- 案件2: 通常案件 -->
              <tr class="hover:bg-amber-50 transition-colors">
                <td class="px-6 py-4">
                  <div class="flex items-center">
                    <span class="project-badge mr-3">SAG25PP002</span>
                    <div>
                      <div class="font-semibold text-gray-800">GHI工業太陽光PPA契約</div>
                      <div class="text-sm text-gray-600">太陽光PPA</div>
                      <div class="flex space-x-1 mt-1">
                        <span class="badge-PP text-white px-2 py-1 rounded text-xs">PP</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div>
                    <div class="font-semibold text-gray-800">鈴木智子</div>
                    <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">12年経験</div>
                    <div class="text-lg font-bold text-blue-600 mt-1">月額180万円</div>
                    <div class="text-sm text-purple-600">15年契約</div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="approval-step completed rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-check text-green-500 mr-2"></i>
                        <span class="text-sm">申請者提出</span>
                      </div>
                    </div>
                    <div class="approval-step current rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-clock text-amber-500 mr-2"></i>
                        <span class="text-sm font-medium">部長承認待ち</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="flex items-center text-sm">
                      <i class="fas fa-calendar text-amber-500 mr-2"></i>
                      <span class="text-amber-600">2日遅延</span>
                    </div>
                    <div class="text-xs text-gray-600">期限: 2025/05/18 17:00</div>
                    <div class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs">
                      ⚠️ 遅延注意
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="bg-blue-50 p-3 rounded-lg border border-blue-200">
                    <div class="text-xs text-blue-800">
                      <div class="font-semibold mb-1">📊 AI分析</div>
                      <div>• 料金適正性: ◎</div>
                      <div>• 市場比較: 優位</div>
                      <div>• リスク要因: 低</div>
                      <div class="text-blue-700 font-semibold mt-1">推奨: 承認</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="flex flex-col space-y-2">
                    <button class="bg-amber-500 hover:bg-amber-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all">
                      承認実行
                    </button>
                    <button class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg text-sm">
                      条件付承認
                    </button>
                  </div>
                </td>
              </tr>

              <!-- 案件3: 支援要請案件 -->
              <tr class="hover:bg-blue-50 transition-colors">
                <td class="px-6 py-4">
                  <div class="flex items-center">
                    <span class="project-badge mr-3">KMM25ES003</span>
                    <div>
                      <div class="font-semibold text-gray-800">JKL商事製造ライン自動化</div>
                      <div class="text-sm text-gray-600">エネルギーサービス</div>
                      <div class="flex space-x-1 mt-1">
                        <span class="badge-ES text-white px-2 py-1 rounded text-xs">ES</span>
                        <span class="bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs">大型案件</span>
                      </div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div>
                    <div class="font-semibold text-gray-800">山本太郎</div>
                    <div class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">新人・要支援</div>
                    <div class="amount-display text-lg mt-1">1億2,000万円</div>
                    <div class="text-sm text-gray-600">予想粗利率: 24%</div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="approval-step pending rounded-lg p-2">
                      <div class="flex items-center">
                        <i class="fas fa-user-graduate text-blue-500 mr-2"></i>
                        <span class="text-sm font-medium">指導・支援中</span>
                      </div>
                    </div>
                    <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                      技術部門連携予定
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="space-y-2">
                    <div class="flex items-center text-sm">
                      <i class="fas fa-calendar-plus text-blue-500 mr-2"></i>
                      <span class="text-blue-600">指導期間中</span>
                    </div>
                    <div class="text-xs text-gray-600">見積期限: 2025/05/30</div>
                    <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                      📚 育成案件
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="bg-purple-50 p-3 rounded-lg border border-purple-200">
                    <div class="text-xs text-purple-800">
                      <div class="font-semibold mb-1">🎓 育成AI</div>
                      <div>• 技術難易度: 高</div>
                      <div>• 学習機会: 優</div>
                      <div>• 指導要点: 制御システム</div>
                      <div class="text-purple-700 font-semibold mt-1">エネルギー管理士活用案件</div>
                    </div>
                  </div>
                </td>
                <td class="px-6 py-4">
                  <div class="flex flex-col space-y-2">
                    <button class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-all">
                      指導開始
                    </button>
                    <button class="bg-purple-500 hover:bg-purple-600 text-white px-4 py-2 rounded-lg text-sm">
                      技術連携
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- ページネーション -->
        <div class="flex items-center justify-between mt-6">
          <div class="text-sm text-gray-600">
            1-3件を表示（全15件中）
          </div>
          <div class="flex space-x-2">
            <button class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm">前へ</button>
            <button class="px-3 py-2 bg-indigo-500 text-white rounded-lg text-sm">1</button>
            <button class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm">2</button>
            <button class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm">3</button>
            <button class="px-3 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm">次へ</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Copilot統合分析セクション -->
    <div class="copilot-enhanced rounded-3xl p-8 mb-8 fade-in">
      <div class="flex items-center mb-6">
        <div class="w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-2xl flex items-center justify-center mr-6">
          <i class="fas fa-robot text-white text-2xl"></i>
        </div>
        <div>
          <h2 class="text-2xl font-bold text-amber-800">Copilot AI 統合承認分析</h2>
          <p class="text-amber-700">AIによる承認最適化と予測分析</p>
        </div>
        <div class="ml-auto">
          <button class="bg-amber-600 hover:bg-amber-700 text-white px-6 py-3 rounded-xl font-bold transition-all">
            詳細レポート
          </button>
        </div>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-4 gap-6">
        <!-- 承認予測分析 -->
        <div class="bg-white bg-opacity-80 rounded-2xl p-6">
          <div class="flex items-center mb-4">
            <i class="fas fa-chart-line text-green-600 mr-3 text-xl"></i>
            <span class="font-bold text-green-800">承認予測分析</span>
          </div>
          <div class="space-y-3">
            <div class="text-3xl font-bold text-green-600">96%</div>
            <div class="text-sm text-gray-700">
              <div class="flex justify-between"><span>今日承認率:</span><span class="font-semibold">96%</span></div>
              <div class="flex justify-between"><span>平均処理時間:</span><span class="font-semibold">0.8日</span></div>
              <div class="flex justify-between"><span>遅延リスク:</span><span class="font-semibold text-amber-600">中</span></div>
            </div>
            <div class="text-xs text-green-700 bg-green-100 p-3 rounded-lg">
              💡 現在のペースで全件承認完了予定
            </div>
          </div>
        </div>

        <!-- リスク分析 -->
        <div class="bg-white bg-opacity-80 rounded-2xl p-6">
          <div class="flex items-center mb-4">
            <i class="fas fa-exclamation-triangle text-red-600 mr-3 text-xl"></i>
            <span class="font-bold text-red-800">リスク要因分析</span>
          </div>
          <div class="space-y-3">
            <div class="text-sm text-gray-700">
              <div class="risk-critical p-2 rounded mb-2">
                <strong>高リスク:</strong> 1件（期限切迫）
              </div>
              <div class="risk-warning p-2 rounded mb-2">
                <strong>中リスク:</strong> 2件（遅延傾向）
              </div>
              <div class="text-green-700">
                <strong>低リスク:</strong> 12件（順調）
              </div>
            </div>
            <div class="text-xs text-red-700 bg-red-100 p-3 rounded-lg">
              🚨 FKO25ES001 緊急対応要
            </div>
          </div>
        </div>

        <!-- 効率化提案 -->
        <div class="bg-white bg-opacity-80 rounded-2xl p-6">
          <div class="flex items-center mb-4">
            <i class="fas fa-lightbulb text-blue-600 mr-3 text-xl"></i>
            <span class="font-bold text-blue-800">効率化提案</span>
          </div>
          <div class="space-y-3">
            <div class="text-sm text-gray-700 space-y-2">
              <div class="flex items-center">
                <i class="fas fa-1 text-blue-600 mr-2"></i>
                <span>一括承認機能活用</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-2 text-blue-600 mr-2"></i>
                <span>モバイル承認推進</span>
              </div>
              <div class="flex items-center">
                <i class="fas fa-3 text-blue-600 mr-2"></i>
                <span>事前レビュー自動化</span>
              </div>
            </div>
            <div class="text-xs text-blue-700 bg-blue-100 p-3 rounded-lg">
              ⚡ 実施により承認時間30%短縮見込み
            </div>
          </div>
        </div>

        <!-- 学習・改善 -->
        <div class="bg-white bg-opacity-80 rounded-2xl p-6">
          <div class="flex items-center mb-4">
            <i class="fas fa-graduation-cap text-purple-600 mr-3 text-xl"></i>
            <span class="font-bold text-purple-800">学習・改善</span>
          </div>
          <div class="space-y-3">
            <div class="text-sm text-gray-700">
              <div class="flex justify-between"><span>AI学習度:</span><span class="font-semibold text-purple-600">94%</span></div>
              <div class="flex justify-between"><span>予測精度:</span><span class="font-semibold text-green-600">96%</span></div>
              <div class="flex justify-between"><span>改善提案:</span><span class="font-semibold text-blue-600">7件</span></div>
            </div>
            <div class="text-xs text-purple-700 bg-purple-100 p-3 rounded-lg">
              🎓 承認パターン学習により精度向上中
            </div>
          </div>
        </div>
      </div>

      <!-- AI推奨アクション -->
      <div class="mt-6 bg-white bg-opacity-90 rounded-2xl p-6">
        <h3 class="text-lg font-bold text-amber-800 mb-4">🤖 今すぐ実行すべきAI推奨アクション</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
          <div class="bg-red-50 border border-red-200 rounded-xl p-4">
            <div class="font-semibold text-red-800 mb-2">🔥 最優先</div>
            <div class="text-sm text-red-700 mb-3">
              FKO25ES001の即座承認。競合対策として期限内承認が成約率に直結。
            </div>
            <button class="w-full bg-red-500 hover:bg-red-600 text-white py-2 rounded-lg text-sm font-medium transition-all">
              今すぐ承認
            </button>
          </div>
          <div class="bg-amber-50 border border-amber-200 rounded-xl p-4">
            <div class="font-semibold text-amber-800 mb-2">⚠️ 重要</div>
            <div class="text-sm text-amber-700 mb-3">
              山本新人への個別指導実施。大型案件での経験値向上機会。
            </div>
            <button class="w-full bg-amber-500 hover:bg-amber-600 text-white py-2 rounded-lg text-sm font-medium transition-all">
              指導開始
            </button>
          </div>
          <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
            <div class="font-semibold text-blue-800 mb-2">📊 改善</div>
            <div class="text-sm text-blue-700 mb-3">
              承認プロセスの標準化により、部門全体の効率向上が期待。
            </div>
            <button class="w-full bg-blue-500 hover:bg-blue-600 text-white py-2 rounded-lg text-sm font-medium transition-all">
              改善計画
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- クイックアクションパネル -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      <!-- 一括承認 -->
      <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in interactive-card">
        <div class="bg-gradient-to-r from-green-500 to-green-600 text-white p-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-lg font-bold">一括承認</h3>
              <p class="text-green-100 text-sm">効率的な承認処理</p>
            </div>
            <i class="fas fa-check-double text-2xl opacity-80"></i>
          </div>
        </div>
        <div class="p-6">
          <div class="space-y-3">
            <div class="text-sm text-gray-600">承認対象案件</div>
            <div class="text-2xl font-bold text-green-600">5件</div>
            <div class="text-xs text-gray-500">総額: 2億3,500万円</div>
          </div>
          <button class="w-full mt-4 bg-green-500 hover:bg-green-600 text-white py-3 rounded-xl font-bold transition-all transform hover:scale-105">
            一括承認実行
          </button>
        </div>
      </div>

      <!-- モバイル承認 -->
      <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in interactive-card">
        <div class="bg-gradient-to-r from-blue-500 to-blue-600 text-white p-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-lg font-bold">モバイル承認</h3>
              <p class="text-blue-100 text-sm">外出先での承認</p>
            </div>
            <i class="fas fa-mobile-alt text-2xl opacity-80"></i>
          </div>
        </div>
        <div class="p-6">
          <div class="space-y-3">
            <div class="text-sm text-gray-600">モバイル利用率</div>
            <div class="text-2xl font-bold text-blue-600">78%</div>
            <div class="text-xs text-green-600">前月比 +15%</div>
          </div>
          <button class="w-full mt-4 bg-blue-500 hover:bg-blue-600 text-white py-3 rounded-xl font-bold transition-all transform hover:scale-105">
            QRコード生成
          </button>
        </div>
      </div>

      <!-- 承認履歴 -->
      <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in interactive-card">
        <div class="bg-gradient-to-r from-purple-500 to-purple-600 text-white p-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-lg font-bold">承認履歴</h3>
              <p class="text-purple-100 text-sm">過去の承認記録</p>
            </div>
            <i class="fas fa-history text-2xl opacity-80"></i>
          </div>
        </div>
        <div class="p-6">
          <div class="space-y-3">
            <div class="text-sm text-gray-600">今月承認件数</div>
            <div class="text-2xl font-bold text-purple-600">247件</div>
            <div class="text-xs text-green-600">平均処理時間: 0.8日</div>
          </div>
          <button class="w-full mt-4 bg-purple-500 hover:bg-purple-600 text-white py-3 rounded-xl font-bold transition-all transform hover:scale-105">
            履歴表示
          </button>
        </div>
      </div>

      <!-- 承認設定 -->
      <div class="bg-white rounded-3xl shadow-xl overflow-hidden fade-in interactive-card">
        <div class="bg-gradient-to-r from-indigo-500 to-indigo-600 text-white p-6">
          <div class="flex items-center justify-between">
            <div>
              <h3 class="text-lg font-bold">承認設定</h3>
              <p class="text-indigo-100 text-sm">ルール・権限管理</p>
            </div>
            <i class="fas fa-cogs text-2xl opacity-80"></i>
          </div>
        </div>
        <div class="p-6">
          <div class="space-y-3">
            <div class="text-sm text-gray-600">承認ルール</div>
            <div class="text-lg font-bold text-indigo-600">15規則</div>
            <div class="text-xs text-gray-500">金額別・種別別</div>
          </div>
          <button class="w-full mt-4 bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-xl font-bold transition-all transform hover:scale-105">
            設定変更
          </button>
        </div>
      </div>
    </div>

    <!-- 承認タイムライン・活動履歴 -->
    <div class="bg-white rounded-3xl shadow-xl overflow-hidden mb-8 fade-in">
      <div class="bg-gradient-to-r from-gray-700 to-gray-800 text-white p-6">
        <div class="flex justify-between items-center">
          <div class="flex items-center">
            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mr-4">
              <i class="fas fa-clock text-2xl"></i>
            </div>
            <div>
              <h2 class="text-2xl font-bold">承認タイムライン・活動履歴</h2>
              <p class="text-gray-300">リアルタイム承認状況と活動記録</p>
            </div>
          </div>
          <button class="bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-xl transition-all">
            <i class="fas fa-filter mr-2"></i>期間指定
          </button>
        </div>
      </div>
      
      <div class="p-6">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- 今日の承認タイムライン -->
          <div>
            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-calendar-day text-blue-600 mr-2"></i>
              今日の承認タイムライン
            </h3>
            <div class="space-y-4">
              <!-- タイムライン項目1 -->
              <div class="timeline-item relative pl-12">
                <div class="absolute left-0 top-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center">
                  <i class="fas fa-check text-sm"></i>
                </div>
                <div class="bg-green-50 border border-green-200 rounded-xl p-4">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <div class="font-semibold text-gray-800">FKO25ER004 電力契約更新承認</div>
                      <div class="text-sm text-gray-600">申請者: 田中博之</div>
                    </div>
                    <div class="text-xs text-gray-500">14:30</div>
                  </div>
                  <div class="text-sm text-green-700">
                    <strong>✅ 承認完了</strong> - 3,200万円の電力契約更新を承認。適正な料金設定を確認。
                  </div>
                </div>
              </div>

              <!-- タイムライン項目2 -->
              <div class="timeline-item relative pl-12">
                <div class="absolute left-0 top-0 w-8 h-8 bg-amber-500 text-white rounded-full flex items-center justify-center animate-pulse">
                  <i class="fas fa-clock text-sm"></i>
                </div>
                <div class="bg-amber-50 border border-amber-200 rounded-xl p-4">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <div class="font-semibold text-gray-800">SAG25PP002 太陽光PPA料金改定</div>
                      <div class="text-sm text-gray-600">申請者: 鈴木智子</div>
                    </div>
                    <div class="text-xs text-gray-500">12:15</div>
                  </div>
                  <div class="text-sm text-amber-700">
                    <strong>⏳ 承認待ち</strong> - 料金改定の詳細確認中。Copilot分析により適正性確認済み。
                  </div>
                </div>
              </div>

              <!-- タイムライン項目3 -->
              <div class="timeline-item relative pl-12">
                <div class="absolute left-0 top-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center">
                  <i class="fas fa-user-graduate text-sm"></i>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <div class="font-semibold text-gray-800">KMM25ES003 新人指導開始</div>
                      <div class="text-sm text-gray-600">対象者: 山本太郎</div>
                    </div>
                    <div class="text-xs text-gray-500">10:00</div>
                  </div>
                  <div class="text-sm text-blue-700">
                                          <strong>📚 指導実施</strong> - 大型案件の見積作成指導を開始。エネルギー管理士の知識活用を重点指導。
                  </div>
                </div>
              </div>

              <!-- タイムライン項目4 -->
              <div class="timeline-item relative pl-12">
                <div class="absolute left-0 top-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center">
                  <i class="fas fa-robot text-sm"></i>
                </div>
                <div class="bg-purple-50 border border-purple-200 rounded-xl p-4">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <div class="font-semibold text-gray-800">Copilot分析レポート生成</div>
                      <div class="text-sm text-gray-600">承認効率化提案</div>
                    </div>
                    <div class="text-xs text-gray-500">09:30</div>
                  </div>
                  <div class="text-sm text-purple-700">
                    <strong>🤖 AI分析</strong> - 承認プロセス最適化により30%の効率向上が期待されるとの分析結果。
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- 部門別承認状況 -->
          <div>
            <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center">
              <i class="fas fa-users text-purple-600 mr-2"></i>
              部門別承認状況
            </h3>
            <div class="space-y-4">
              <!-- 営業部全体 -->
              <div class="bg-gradient-to-r from-blue-50 to-blue-100 rounded-xl p-4">
                <div class="flex justify-between items-start mb-3">
                  <div>
                    <h4 class="font-semibold text-blue-800">営業部全体</h4>
                    <div class="text-sm text-blue-600">承認効率: 96%</div>
                  </div>
                  <div class="text-right">
                    <div class="text-2xl font-bold text-blue-600">15件</div>
                    <div class="text-xs text-blue-600">今日処理予定</div>
                  </div>
                </div>
                <div class="grid grid-cols-3 gap-3 text-sm">
                  <div class="text-center">
                    <div class="font-bold text-green-600">12</div>
                    <div class="text-xs text-gray-600">完了</div>
                  </div>
                  <div class="text-center">
                    <div class="font-bold text-amber-600">3</div>
                    <div class="text-xs text-gray-600">処理中</div>
                  </div>
                  <div class="text-center">
                    <div class="font-bold text-gray-600">0</div>
                    <div class="text-xs text-gray-600">保留</div>
                  </div>
                </div>
              </div>

              <!-- 個人別状況 -->
              <div class="space-y-3">
                <div class="bg-white border border-gray-200 rounded-xl p-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center mr-3">
                        <i class="fas fa-user"></i>
                      </div>
                      <div>
                        <div class="font-semibold text-gray-800">佐藤一郎</div>
                        <div class="text-sm text-gray-600">承認待ち: 1件（緊急）</div>
                        <span class="tech-badge">エネルギー管理士</span>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">🔥 緊急</div>
                      <div class="text-xs text-gray-500 mt-1">8,500万円</div>
                    </div>
                  </div>
                </div>

                <div class="bg-white border border-gray-200 rounded-xl p-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-amber-100 text-amber-600 rounded-full flex items-center justify-center mr-3">
                        <i class="fas fa-user"></i>
                      </div>
                      <div>
                        <div class="font-semibold text-gray-800">鈴木智子</div>
                        <div class="text-sm text-gray-600">承認待ち: 1件（遅延）</div>
                        <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">12年経験</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="bg-amber-100 text-amber-800 px-2 py-1 rounded text-xs">⚠️ 遅延</div>
                      <div class="text-xs text-gray-500 mt-1">月額180万円</div>
                    </div>
                  </div>
                </div>

                <div class="bg-white border border-gray-200 rounded-xl p-4">
                  <div class="flex items-center justify-between">
                    <div class="flex items-center">
                      <div class="w-10 h-10 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-3">
                        <i class="fas fa-user-graduate"></i>
                      </div>
                      <div>
                        <div class="font-semibold text-gray-800">山本太郎</div>
                        <div class="text-sm text-gray-600">指導中: 大型案件</div>
                        <div class="bg-red-100 text-red-800 px-2 py-1 rounded text-xs">新人・要支援</div>
                      </div>
                    </div>
                    <div class="text-right">
                      <div class="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">📚 指導</div>
                      <div class="text-xs text-gray-500 mt-1">1億2,000万円</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- フッター -->
    <footer class="bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-3xl shadow-xl">
      <div class="container mx-auto px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
          <div>
            <h4 class="text-xl font-bold mb-4 flex items-center">
              <i class="fas fa-clipboard-check mr-2"></i>
              システム情報
            </h4>
            <ul class="space-y-2 text-sm text-gray-300">
              <li>バージョン: v24.0</li>
              <li>設計仕様書準拠</li>
              <li>Copilot AI強化版</li>
              <li>承認効率: 96%</li>
              <li>サポート: 内線3001</li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-bold mb-4">主要機能</h4>
            <ul class="space-y-2 text-sm text-gray-300">
              <li>• AI承認分析・予測</li>
              <li>• リアルタイム差分表示</li>
              <li>• モバイル承認対応</li>
              <li>• 一括承認処理</li>
              <li>• 技術資格活用支援</li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-bold mb-4">承認統計</h4>
            <ul class="space-y-2 text-sm text-gray-300">
              <li>• 今月処理件数: 247件</li>
              <li>• 平均承認時間: 0.8日</li>
              <li>• 承認精度: 98.5%</li>
              <li>• モバイル利用率: 78%</li>
              <li>• 効率改善: +30%</li>
            </ul>
          </div>
          <div>
            <h4 class="text-xl font-bold mb-4">サポート・ヘルプ</h4>
            <ul class="space-y-2 text-sm text-gray-300">
              <li><a href="#" class="hover:text-white transition-colors">承認操作ガイド</a></li>
              <li><a href="#" class="hover:text-white transition-colors">Copilot活用マニュアル</a></li>
              <li><a href="#" class="hover:text-white transition-colors">モバイル承認設定</a></li>
              <li><a href="#" class="hover:text-white transition-colors">よくある質問</a></li>
              <li><a href="#" class="hover:text-white transition-colors">技術サポート</a></li>
            </ul>
          </div>
        </div>
        <div class="border-t border-gray-700 mt-8 pt-8 text-center text-sm text-gray-400">
          <p>© 2025 エネルギーサービス企業 営業承認・申請システム | 設計仕様書v24準拠 | 技術資格活用型AI承認システム</p>
        </div>
      </div>
    </footer>

    <!-- フローティングアクションボタン -->
    <div class="fixed bottom-8 right-8 space-y-4 z-50">
      <!-- Copilot相談ボタン -->
      <button onclick="showCopilotChat()" class="copilot-enhanced w-16 h-16 rounded-full shadow-2xl flex items-center justify-center text-white font-bold text-xl hover:scale-110 transition-all duration-300">
        <i class="fas fa-robot"></i>
      </button>
      
      <!-- 緊急承認ボタン -->
      <button onclick="showEmergencyApproval()" class="w-16 h-16 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all duration-300">
        <i class="fas fa-bolt"></i>
      </button>
      
      <!-- クイックアクションボタン -->
      <button onclick="showQuickActions()" class="w-16 h-16 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-full shadow-2xl flex items-center justify-center hover:scale-110 transition-all duration-300">
        <i class="fas fa-plus"></i>
      </button>
    </div>

    <!-- JavaScript機能 -->
    <script>
      // DOM読み込み完了時の初期化
      document.addEventListener('DOMContentLoaded', function() {
        // プログレスリングのアニメーション
        const progressRings = document.querySelectorAll('.progress-ring circle:last-child');
        progressRings.forEach(ring => {
          ring.style.strokeDashoffset = '251.2';
          setTimeout(() => {
            ring.style.strokeDashoffset = '50.24';
          }, 1000);
        });

        // カードインタラクションの初期化
        initCardInteractions();
        
        // タイムライン更新の開始
        startTimelineUpdates();
        
        // リアルタイム通知の開始
        startNotificationSystem();
        
        // 承認ステップのアニメーション
        initApprovalSteps();
      });

      // カードインタラクション
      function initCardInteractions() {
        document.querySelectorAll('.interactive-card').forEach(card => {
          card.addEventListener('mouseenter', function() {
            this.style.transform = 'translateY(-8px) scale(1.02)';
          });
          card.addEventListener('mouseleave', function() {
            this.style.transform = 'translateY(0) scale(1)';
          });
        });
      }

      // 承認ステップアニメーション
      function initApprovalSteps() {
        document.querySelectorAll('.approval-step').forEach(step => {
          step.addEventListener('mouseenter', function() {
            if (this.classList.contains('current')) {
              this.style.transform = 'translateX(12px) scale(1.05)';
            } else if (!this.classList.contains('pending')) {
              this.style.transform = 'translateX(8px) scale(1.02)';
            }
          });
          step.addEventListener('mouseleave', function() {
            this.style.transform = 'translateX(0) scale(1)';
          });
        });
      }

      // Copilotチャット表示
      function showCopilotChat() {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 fade-in';
        modal.innerHTML = `
          <div class="bg-white rounded-3xl shadow-2xl max-w-2xl w-full mx-4 max-h-96 overflow-hidden">
            <div class="copilot-enhanced p-6">
              <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-amber-800 flex items-center">
                  <i class="fas fa-robot mr-3"></i> Copilot AI承認アシスタント
                </h3>
                <button onclick="this.closest('.fixed').remove()" class="text-amber-600 hover:text-amber-800 text-xl">
                  <i class="fas fa-times"></i>
                </button>
              </div>
              <div class="space-y-4">
                <div class="bg-white bg-opacity-80 p-4 rounded-xl">
                  <h4 class="font-semibold text-amber-800 mb-3">🤖 推奨アクション</h4>
                  <div class="space-y-2">
                    <button onclick="handleCopilotAction('emergency')" class="block w-full text-left p-3 hover:bg-amber-100 rounded-lg transition-all">
                      <div class="font-medium text-red-600">🔥 FKO25ES001の緊急承認</div>
                      <div class="text-sm text-gray-600">期限切迫により即座の承認を推奨</div>
                    </button>
                    <button onclick="handleCopilotAction('batch')" class="block w-full text-left p-3 hover:bg-amber-100 rounded-lg transition-all">
                      <div class="font-medium text-green-600">✅ 5件の一括承認実行</div>
                      <div class="text-sm text-gray-600">適正性確認済み案件の効率的承認</div>
                    </button>
                    <button onclick="handleCopilotAction('guidance')" class="block w-full text-left p-3 hover:bg-amber-100 rounded-lg transition-all">
                      <div class="font-medium text-blue-600">📚 山本新人への指導開始</div>
                      <div class="text-sm text-gray-600">大型案件での成長機会提供</div>
                    </button>
                  </div>
                </div>
                <div>
                  <label class="block text-sm font-medium text-amber-800 mb-2">カスタム相談</label>
                  <textarea placeholder="承認に関する相談や質問を入力してください..." class="w-full p-3 border border-amber-300 rounded-lg resize-none" rows="3"></textarea>
                </div>
                <div class="flex justify-end space-x-3">
                  <button onclick="this.closest('.fixed').remove()" class="px-6 py-2 text-amber-600 hover:text-amber-800 transition-colors">
                    閉じる
                  </button>
                  <button class="px-6 py-3 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white rounded-xl font-bold transition-all">
                    <i class="fas fa-robot mr-2"></i> AI相談実行
                  </button>
                </div>
              </div>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
      }

      // Copilotアクション処理
      function handleCopilotAction(action) {
        const actions = {
          emergency: '🔥 緊急承認処理を開始します。FKO25ES001の承認画面に移動しますか？',
          batch: '✅ 5件の一括承認を実行します。総額2億3,500万円の承認処理を開始しますか？',
          guidance: '📚 山本太郎への指導セッションを開始します。技術部門との連携も含めますか？'
        };
        
        if (confirm(actions[action])) {
          showNotification(
            action === 'emergency' ? '緊急承認処理を開始しました' :
            action === 'batch' ? '一括承認処理を開始しました' :
            '指導セッションを開始しました',
            'success'
          );
          document.querySelector('.fixed.inset-0').remove();
        }
      }

      // 緊急承認ダイアログ
      function showEmergencyApproval() {
        const modal = document.createElement('div');
        modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
        modal.innerHTML = `
          <div class="bg-white rounded-3xl shadow-2xl max-w-3xl w-full mx-4 max-h-96 overflow-y-auto">
                          <div class="bg-gradient-to-r from-red-500 to-red-600 text-white p-6">
              <div class="flex justify-between items-center">
                <h3 class="text-xl font-bold flex items-center">
                  <i class="fas fa-exclamation-triangle mr-3"></i> 緊急承認処理
                </h3>
                <button onclick="this.closest('.fixed').remove()" class="text-white hover:text-gray-200 text-xl">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </div>
            <div class="p-6">
              <div class="risk-critical rounded-xl p-4 mb-4">
                <div class="flex items-center mb-3">
                  <span class="project-badge mr-3">FKO25ES001</span>
                  <span class="bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold animate-pulse">
                    🔥 期限切迫
                  </span>
                </div>
                <h4 class="text-lg font-bold text-gray-800 mb-2">ABC工場省エネ設備導入 最終見積承認</h4>
                <div class="grid grid-cols-2 gap-4 mb-3">
                  <div>
                    <span class="text-sm text-gray-600">申請者:</span>
                    <span class="font-semibold ml-2">佐藤一郎</span>
                                            <span class="tech-badge ml-2">エネルギー管理士</span>
                  </div>
                  <div>
                    <span class="text-sm text-gray-600">残り時間:</span>
                    <span class="font-bold text-red-600 ml-2">4時間12分</span>
                  </div>
                </div>
                <div class="amount-display text-2xl mb-3">8,500万円</div>
                <div class="copilot-enhanced p-3 rounded-lg">
                  <div class="text-sm text-amber-800">
                    <strong>🤖 Copilot緊急判定:</strong> 即座承認を強く推奨。競合優位性確保のため期限内承認が必須。
                  </div>
                </div>
              </div>
              <div class="flex justify-end space-x-3">
                <button onclick="this.closest('.fixed').remove()" class="px-6 py-2 text-gray-600 hover:text-gray-800">
                  キャンセル
                </button>
                <button onclick="executeEmergencyApproval()" class="px-8 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-bold transition-all">
                  <i class="fas fa-bolt mr-2"></i> 緊急承認実行
                </button>
              </div>
            </div>
          </div>
        `;
        document.body.appendChild(modal);
      }

      // 緊急承認実行
      function executeEmergencyApproval() {
        showNotification('緊急承認を実行しました。FKO25ES001が承認されました。', 'success');
        document.querySelector('.fixed.inset-0').remove();
        
        // UI更新のシミュレーション
        setTimeout(() => {
          const emergencyRow = document.querySelector('tr.hover\\:bg-red-50');
          if (emergencyRow) {
            emergencyRow.style.background = 'linear-gradient(90deg, #d1fae5, #a7f3d0)';
            emergencyRow.querySelector('.risk-critical').className = 'approval-step completed rounded-lg p-2';
          }
        }, 1000);
      }

      // クイックアクション表示
      function showQuickActions() {
        const menu = document.createElement('div');
        menu.className = 'fixed bottom-32 right-8 bg-white rounded-2xl shadow-2xl p-4 z-40 fade-in';
        menu.innerHTML = `
          <div class="space-y-3">
            <button onclick="handleQuickAction('batch')" class="block w-full text-left p-3 hover:bg-blue-50 rounded-xl flex items-center transition-all">
              <i class="fas fa-check-double text-blue-600 mr-3 text-lg"></i>
              <div>
                <div class="font-medium text-gray-800">一括承認（5件）</div>
                <div class="text-sm text-gray-600">総額: 2億3,500万円</div>
              </div>
            </button>
            <button onclick="handleQuickAction('mobile')" class="block w-full text-left p-3 hover:bg-green-50 rounded-xl flex items-center transition-all">
              <i class="fas fa-mobile-alt text-green-600 mr-3 text-lg"></i>
              <div>
                <div class="font-medium text-gray-800">モバイル承認</div>
                <div class="text-sm text-gray-600">QRコード生成</div>
              </div>
            </button>
            <button onclick="handleQuickAction('delegate')" class="block w-full text-left p-3 hover:bg-purple-50 rounded-xl flex items-center transition-all">
              <i class="fas fa-user-friends text-purple-600 mr-3 text-lg"></i>
              <div>
                <div class="font-medium text-gray-800">承認権限委任</div>
                <div class="text-sm text-gray-600">一時的な権限移譲</div>
              </div>
            </button>
            <button onclick="handleQuickAction('report')" class="block w-full text-left p-3 hover:bg-indigo-50 rounded-xl flex items-center transition-all">
              <i class="fas fa-chart-bar text-indigo-600 mr-3 text-lg"></i>
              <div>
                <div class="font-medium text-gray-800">承認レポート</div>
                <div class="text-sm text-gray-600">Excel出力</div>
              </div>
            </button>
          </div>
        `;
        document.body.appendChild(menu);
        
        // 5秒後に自動で消す
        setTimeout(() => {
          if (menu.parentNode) {
            menu.remove();
          }
        }, 5000);
      }

      // クイックアクション処理
      function handleQuickAction(action) {
        const actions = {
          batch: '一括承認処理を開始しました',
          mobile: 'モバイル承認用QRコードを生成しました',
          delegate: '承認権限委任設定画面を表示します',
          report: '承認レポートをExcel形式で出力しています'
        };
        
        showNotification(actions[action], 'success');
        document.querySelector('.fixed.bottom-32')?.remove();
      }

      // タイムライン更新
      function startTimelineUpdates() {
        setInterval(() => {
          if (Math.random() > 0.9) {
            addTimelineItem();
          }
        }, 30000); // 30秒ごと
      }

      // タイムライン項目追加
      function addTimelineItem() {
        const timeline = document.querySelector('.timeline-item').parentElement;
        const now = new Date();
        const timeString = now.getHours().toString().padStart(2, '0') + ':' + now.getMinutes().toString().padStart(2, '0');
        
        const newItem = document.createElement('div');
        newItem.className = 'timeline-item relative pl-12 fade-in';
        newItem.innerHTML = `
          <div class="absolute left-0 top-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center">
            <i class="fas fa-clock text-sm"></i>
          </div>
          <div class="bg-blue-50 border border-blue-200 rounded-xl p-4">
            <div class="flex justify-between items-start mb-2">
              <div>
                <div class="font-semibold text-gray-800">システム自動更新</div>
                <div class="text-sm text-gray-600">承認状況の自動同期</div>
              </div>
              <div class="text-xs text-gray-500">${timeString}</div>
            </div>
            <div class="text-sm text-blue-700">
              <strong>🔄 更新完了</strong> - 最新の承認状況に更新されました。
            </div>
          </div>
        `;
        
        timeline.insertBefore(newItem, timeline.firstChild);
        
        // 古いアイテムを削除（最新5件まで保持）
        const items = timeline.querySelectorAll('.timeline-item');
        if (items.length > 5) {
          items[items.length - 1].remove();
        }
      }

      // 通知システム開始
      function startNotificationSystem() {
        setInterval(() => {
          if (Math.random() > 0.85) {
            const notifications = [
              { message: '新しい承認申請が提出されました', type: 'info' },
              { message: '承認期限が近づいている案件があります', type: 'warning' },
              { message: '承認が完了しました', type: 'success' }
            ];
            const notification = notifications[Math.floor(Math.random() * notifications.length)];
            showNotification(notification.message, notification.type);
            
            // 通知カウントを更新
            const badge = document.querySelector('.fa-bell + span');
            if (badge) {
              const current = parseInt(badge.textContent);
              badge.textContent = current + 1;
              badge.classList.add('animate-pulse');
              setTimeout(() => badge.classList.remove('animate-pulse'), 2000);
            }
          }
        }, 45000); // 45秒ごと
      }

      // 通知表示
      function showNotification(message, type = 'info') {
        const notification = document.createElement('div');
        const colors = {
          info: 'from-blue-500 to-blue-600',
          success: 'from-green-500 to-green-600',
          warning: 'from-amber-500 to-amber-600',
          error: 'from-red-500 to-red-600'
        };
        
        const icons = {
          info: 'fa-info-circle',
          success: 'fa-check-circle',
          warning: 'fa-exclamation-triangle',
          error: 'fa-times-circle'
        };
        
        notification.className = `fixed top-6 right-6 bg-gradient-to-r ${colors[type]} text-white p-4 rounded-xl shadow-2xl z-50 fade-in min-w-80`;
        notification.innerHTML = `
          <div class="flex items-center space-x-3">
            <i class="fas ${icons[type]} text-xl"></i>
            <div class="flex-1">
              <div class="font-medium">${message}</div>
              <div class="text-sm opacity-90">${new Date().toLocaleTimeString('ja-JP')}</div>
            </div>
            <button onclick="this.parentElement.parentElement.remove()" class="text-white hover:text-gray-200 transition-colors">
              <i class="fas fa-times"></i>
            </button>
          </div>
        `;
        document.body.appendChild(notification);
        
        // 7秒後に自動削除
        setTimeout(() => {
          if (notification.parentNode) {
            notification.remove();
          }
        }, 7000);
      }

      // キーボードショートカット
      document.addEventListener('keydown', function(e) {
        // Ctrl+Shift+A: 緊急承認
        if (e.ctrlKey && e.shiftKey && e.key === 'A') {
          e.preventDefault();
          showEmergencyApproval();
        }
        
        // Ctrl+Shift+C: Copilot相談
        if (e.ctrlKey && e.shiftKey && e.key === 'C') {
          e.preventDefault();
          showCopilotChat();
        }
        
        // Ctrl+Shift+B: 一括承認
        if (e.ctrlKey && e.shiftKey && e.key === 'B') {
          e.preventDefault();
          if (confirm('5件の一括承認を実行しますか？')) {
            showNotification('一括承認処理を開始しました', 'success');
          }
        }
        
        // Escape: モーダル閉じる
        if (e.key === 'Escape') {
          const modals = document.querySelectorAll('.fixed.inset-0');
          modals.forEach(modal => modal.remove());
          
          const menus = document.querySelectorAll('.fixed.bottom-32');
          menus.forEach(menu => menu.remove());
        }
      });

      // 定期的なUIアニメーション更新
      setInterval(() => {
        // Copilot要素のグロー効果更新
        const copilotElements = document.querySelectorAll('.copilot-enhanced');
        copilotElements.forEach(element => {
          element.style.animation = 'none';
          setTimeout(() => {
            element.style.animation = 'copilotGlow 3s infinite ease-in-out';
          }, 100);
        });
        
        // 緊急要素のパルス効果更新
        const emergencyElements = document.querySelectorAll('.animate-pulse');
        emergencyElements.forEach(element => {
          element.classList.remove('animate-pulse');
          setTimeout(() => {
            element.classList.add('animate-pulse');
          }, 200);
        });
      }, 10000); // 10秒ごと

      // レスポンシブ対応
      function handleResize() {
        const isMobile = window.innerWidth < 768;
        const cards = document.querySelectorAll('.interactive-card');
        
        cards.forEach(card => {
          if (isMobile) {
            card.style.transform = 'none';
          }
        });
      }

      window.addEventListener('resize', handleResize);
      handleResize(); // 初期実行

      // ツールチップ機能
      document.querySelectorAll('[title]').forEach(element => {
        element.addEventListener('mouseenter', function() {
          const tooltip = document.createElement('div');
          tooltip.className = 'absolute bg-gray-800 text-white text-xs rounded-lg px-3 py-2 z-50 pointer-events-none shadow-lg';
          tooltip.textContent = this.getAttribute('title');
          
          const rect = this.getBoundingClientRect();
          tooltip.style.top = rect.bottom + 8 + 'px';
          tooltip.style.left = rect.left + (rect.width / 2) + 'px';
          tooltip.style.transform = 'translateX(-50%)';
          
          document.body.appendChild(tooltip);
          
          this.addEventListener('mouseleave', function() {
            if (tooltip.parentNode) {
              tooltip.parentNode.removeChild(tooltip);
            }
          }, { once: true });
        });
      });

      // パフォーマンス最適化
      function optimizePerformance() {
        // 非表示要素のアニメーション停止
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.animationPlayState = 'running';
            } else {
              entry.target.style.animationPlayState = 'paused';
            }
          });
        });

        document.querySelectorAll('.copilot-enhanced, .animate-pulse').forEach(el => {
          observer.observe(el);
        });
      }

      // 初期化完了後の最適化実行
      setTimeout(optimizePerformance, 2000);

      // アクセシビリティ強化
      document.addEventListener('focusin', function(e) {
        if (e.target.classList.contains('focus-visible')) {
          e.target.style.outline = '2px solid #3b82f6';
          e.target.style.outlineOffset = '2px';
        }
      });

      document.addEventListener('focusout', function(e) {
        e.target.style.outline = '';
        e.target.style.outlineOffset = '';
      });

      // 初期化完了通知
      setTimeout(() => {
        showNotification('営業承認・申請システムが正常に初期化されました', 'success');
      }, 1500);
    </script>
  </body>
</html>